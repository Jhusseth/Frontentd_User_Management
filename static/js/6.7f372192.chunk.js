(this.webpackJsonpuser_manager_app=this.webpackJsonpuser_manager_app||[]).push([[6],{136:function(e,a,t){"use strict";t.d(a,"a",(function(){return n}));var r=t(0),l=t.n(r);function n(e){var a=e.text,t=e.close;return(l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"text-white px-6 py-4 border-0 rounded relative mb-4 bg-teal-500"},l.a.createElement("span",{className:"text-xl inline-block mr-5 align-middle"},l.a.createElement("i",{className:"fas fa-bell"})),l.a.createElement("span",{className:"inline-block align-middle mr-8"},l.a.createElement("b",{className:"capitalize"},a)),l.a.createElement("button",{className:"absolute bg-transparent text-2xl font-semibold leading-none right-0 top-0 mt-4 mr-6 outline-none focus:outline-none",onClick:t},l.a.createElement("span",null,"\xd7")))))}},137:function(e,a,t){"use strict";var r=t(0),l=t.n(r);a.a=function(e){var a=e.title;return(l.a.createElement("div",{className:"my-1 sm:my-4"},l.a.createElement("h2",{className:"text-gray-800 font-bold text-2xl"},a)))}},140:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return _}));var r=t(42),l=t.n(r),n=t(60),m=t(8),s=t(0),c=t.n(s),i=t(63),d=t(29),o=t(62),u=t(30),p=t(64),b=t(84),E=t(32),x=t(31),v=t(24),N=t(61);function f(e){var a=v.a().shape({firstName:v.b().required("FirstName is required"),lastName:v.b().required("LastName is required"),email:v.b().required("Email is required"),password:v.b().required("Password is required"),valid_until:v.b().required("Valid Until is required"),valid:v.b().required("Valid is required")}),t=Object(s.useState)(),r=Object(m.a)(t,2),f=r[0],y=r[1],w=Object(s.useState)(),h=Object(m.a)(w,2),g=h[0],j=h[1],O=Object(s.useState)(!1),k=Object(m.a)(O,2),q=k[0],S=k[1],_=function(){var a=Object(n.a)(l.a.mark((function a(t){var r,n,m;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,S(!0),a.next=4,N.a.post("".concat(e.idCampus,"/users"),t);case 4:r=a.sent,n=r.data,console.log(t),y(n.message),j(""),setTimeout((function(){window.location.reload()}),50),a.next=18;break;case 12:a.prev=12,a.t0=a.catch(0),S(!1),m=a.t0.response.data,j(m.message),y("");case 18:return a.prev=18,e.showAddPanel(),window.location.reload(),a.finish(18);case 22:case"end":return a.stop()}}),a,null,[[0,12,18,22]])})));return function(e){return a.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement("section",{className:"w-3/4 h-screen m-auto sm:pt-10"},c.a.createElement(d.a,null),c.a.createElement(o.a,null,c.a.createElement("div",{className:"flex items-center justify-center py-7 px-2 sm:px-3 lg:px-3"},c.a.createElement("div",{className:"max-w-md w-full flex items-center justify-center"},c.a.createElement(u.c,{initialValues:{firstName:"",lastName:"",email:"",password:"",valid_until:"",valid:!1},onSubmit:function(e){return _(e)},validationSchema:a},(function(e){var a=e.values;return(c.a.createElement(u.b,{className:"mt-8"},f&&c.a.createElement(p.a,{text:f}),g&&c.a.createElement(b.a,{text:g}),c.a.createElement("input",{type:"hidden",name:"remember",value:"true"}),c.a.createElement("div",null,c.a.createElement("div",{className:"flex"},c.a.createElement("div",{className:"mb-2 mr-2 w-3/4"},c.a.createElement("div",{className:"mb-1"},c.a.createElement(x.a,{text:"Valid Until"})),c.a.createElement(E.a,{ariaLabel:"Valid_until",name:"valid_until",type:"datetime-local",placeholder:"Valid_until"})),c.a.createElement("div",{className:"mb-2 ml-2 w-1/2"},c.a.createElement("div",{className:"mb-1 ml-4"},c.a.createElement(x.a,{text:"Status"})),c.a.createElement("div",null,c.a.createElement("label",{className:"inline-flex items-center"},c.a.createElement(u.a,{type:"checkbox",className:"form-checkbox mt-2 ml-4",name:"valid"}),c.a.createElement("span",{className:"ml-4 mt-2"},a.valid?"Active":"Disable"))))),c.a.createElement("div",{className:"flex"},c.a.createElement("div",{className:"mb-2 mr-2 w-1/2"},c.a.createElement("div",{className:"mb-1"},c.a.createElement(x.a,{text:"Name"})),c.a.createElement(E.a,{ariaLabel:"FirstName",name:"firstName",type:"text",placeholder:"FirstName"})),c.a.createElement("div",{className:"mb-2 ml-2 w-1/2"},c.a.createElement("div",{className:"mb-1 ml-4"},c.a.createElement(x.a,{text:"LastName"})),c.a.createElement("div",null,c.a.createElement(E.a,{ariaLabel:"LastName",name:"lastName",type:"text",placeholder:"LastName"})))),c.a.createElement("div",{className:"flex"},c.a.createElement("div",{className:"mb-2 mr-2 w-3/4"},c.a.createElement("div",{className:"mb-1"},c.a.createElement(x.a,{text:"Email"})),c.a.createElement(E.a,{ariaLabel:"Email",name:"email",type:"email",placeholder:"Email"})),c.a.createElement("div",{className:"mb-2 ml-2 w-1/2"},c.a.createElement("div",{className:"mb-1 ml-4"},c.a.createElement(x.a,{text:"Password"})),c.a.createElement("div",null,c.a.createElement(E.a,{ariaLabel:"Password",name:"password",type:"password",placeholder:"Password"}))))),c.a.createElement("div",{className:"mt-6 flex items-center justify-center"},c.a.createElement(i.a,{type:"submit",text:"Save",loading:q}))))})))))))}var y=t(136),w=t(138),h=t.n(w);function g(e){var a=v.a().shape({firstName:v.b().required("FirstName is required"),lastName:v.b().required("LastName is required"),email:v.b().required("Email is required"),password:v.b().required("Password is required"),valid_until:v.b().required("Valid Until is required"),valid:v.b().required("Valid is required")}),t=Object(s.useState)(),r=Object(m.a)(t,2),f=r[0],y=r[1],w=Object(s.useState)(),g=Object(m.a)(w,2),j=g[0],O=g[1],k=Object(s.useState)(!1),q=Object(m.a)(k,2),S=q[0],_=q[1],L=function(){var a=Object(n.a)(l.a.mark((function a(t){var r,n,m;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,_(!0),a.next=4,N.a.put("".concat(e.idCampus,"/user/").concat(e.user._id),t);case 4:r=a.sent,n=r.data,y(n.message),O(""),a.next=16;break;case 10:a.prev=10,a.t0=a.catch(0),_(!1),m=a.t0.response.data,O(m.message),y("");case 16:return a.prev=16,setTimeout((function(){e.setShowModal(!1),window.location.reload()}),1e3),a.finish(16);case 19:case"end":return a.stop()}}),a,null,[[0,10,16,19]])})));return function(e){return a.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,e.showModal?c.a.createElement(c.a.Fragment,null,c.a.createElement("section",{className:"w-3/4 h-screen m-auto sm:pt-10"},c.a.createElement(d.a,null),c.a.createElement(o.a,null,c.a.createElement("div",{className:"flex items-center justify-center py-7 px-2 sm:px-3 lg:px-3"},c.a.createElement("div",{className:"max-w-md w-full flex items-center justify-center"},c.a.createElement(u.c,{initialValues:{firstName:e.user.firstName,lastName:e.user.lastName,email:e.user.email,password:e.user.password,valid_until:h()(e.user.valid_until).format("yyyy-MM-DTH:mm"),valid:e.user.valid,campus:e.idCampus},onSubmit:function(e){return L(e)},validationSchema:a},(function(e){var a=e.values;return(c.a.createElement(u.b,{className:"mt-8"},f&&c.a.createElement(p.a,{text:f}),j&&c.a.createElement(b.a,{text:j}),c.a.createElement("input",{type:"hidden",name:"remember",value:"true"}),c.a.createElement("div",null,c.a.createElement("div",{className:"flex"},c.a.createElement("div",{className:"mb-2 mr-2 w-3/4"},c.a.createElement("div",{className:"mb-1"},c.a.createElement(x.a,{text:"Valid Until"})),c.a.createElement(E.a,{ariaLabel:"Valid_until",name:"valid_until",type:"datetime-local",placeholder:"Valid_until"})),c.a.createElement("div",{className:"mb-2 ml-2 w-1/2"},c.a.createElement("div",{className:"mb-1 ml-4"},c.a.createElement(x.a,{text:"Status"})),c.a.createElement("div",null,c.a.createElement("label",{className:"inline-flex items-center"},c.a.createElement(u.a,{type:"checkbox",className:"form-checkbox mt-2 ml-4",name:"valid"}),c.a.createElement("span",{className:"ml-4 mt-2"},a.valid?"Active":"Disable"))))),c.a.createElement("div",{className:"flex"},c.a.createElement("div",{className:"mb-2 mr-2 w-1/2"},c.a.createElement("div",{className:"mb-1"},c.a.createElement(x.a,{text:"Name"})),c.a.createElement(E.a,{ariaLabel:"FirstName",name:"firstName",type:"text",placeholder:"FirstName"})),c.a.createElement("div",{className:"mb-2 ml-2 w-1/2"},c.a.createElement("div",{className:"mb-1 ml-4"},c.a.createElement(x.a,{text:"LastName"})),c.a.createElement("div",null,c.a.createElement(E.a,{ariaLabel:"LastName",name:"lastName",type:"text",placeholder:"LastName"})))),c.a.createElement("div",{className:"flex"},c.a.createElement("div",{className:"mb-2 mr-2 w-3/4"},c.a.createElement("div",{className:"mb-1"},c.a.createElement(x.a,{text:"Email"})),c.a.createElement(E.a,{ariaLabel:"Email",name:"email",type:"email",placeholder:"Email"})),c.a.createElement("div",{className:"mb-2 ml-2 w-1/2"},c.a.createElement("div",{className:"mb-1 ml-4"},c.a.createElement(x.a,{text:"Password"})),c.a.createElement("div",null,c.a.createElement(E.a,{ariaLabel:"Password",name:"password",type:"password",placeholder:"Password"}))))),c.a.createElement("div",{className:"mt-6 flex items-center justify-center"},c.a.createElement(i.a,{type:"submit",text:"Save",loading:S}))))}))))))):null)}var j=t(13),O=t(23);function k(e){var a=Object(s.useState)(),t=Object(m.a)(a,2),r=t[0],i=t[1],u=Object(s.useState)(!1),p=Object(m.a)(u,2),b=p[0],E=p[1],x=Object(s.useState)(!1),v=Object(m.a)(x,2),f=v[0],w=v[1],k=Object(s.useState)(),q=Object(m.a)(k,2),S=q[0],_=q[1],L=function(){var a=Object(n.a)(l.a.mark((function a(t){var r,n,m;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,N.a.delete("".concat(e.idCampus,"/user/delete/").concat(t));case 3:r=a.sent,n=r.data,i(n.message),E(!0),a.next=14;break;case 9:a.prev=9,a.t0=a.catch(0),m=a.t0.response.data,i(m.message),E(!0);case 14:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,f?c.a.createElement(g,{setShowModal:w,user:S,showModal:f}):c.a.createElement(c.a.Fragment,null,c.a.createElement(d.a,null),c.a.createElement(o.a,null,b?c.a.createElement(y.a,{text:r,close:function(){E(!1)}}):null,c.a.createElement("div",{className:"inline-block min-w-full rounded-lg overflow-hidden"},c.a.createElement("table",{className:"min-w-full leading-normal"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{scope:"col",className:"px-0 py-3 bg-white  border-b border-gray-200 text-gray-800  text-center text-sm uppercase font-normal"},"name"),c.a.createElement("th",{scope:"col",className:"px-0 py-3 bg-white  border-b border-gray-200 text-gray-800  text-center text-sm uppercase font-normal"},"lastname"),c.a.createElement("th",{scope:"col",className:"px-0 py-3 bg-white  border-b border-gray-200 text-gray-800  text-center text-sm uppercase font-normal"},"email"),c.a.createElement("th",{scope:"col",className:"px-0 py-3 bg-white  border-b border-gray-200 text-gray-800  text-center text-sm uppercase font-normal"},"valid until"),c.a.createElement("th",{scope:"col",className:"px-0 py-3 bg-white  border-b border-gray-200 text-gray-800  text-center text-sm uppercase font-normal"},"valid"),c.a.createElement("th",{scope:"col",className:"px-0 py-3 bg-white  border-b border-gray-200 text-gray-800  text-center text-sm uppercase font-normal"},"edit"),c.a.createElement("th",{scope:"col",className:"px-0 py-3 bg-white  border-b border-gray-200 text-gray-800  text-center text-sm uppercase font-normal"},"delete"))),c.a.createElement("tbody",null,e.users.map((function(e){return c.a.createElement("tr",{key:e._id},c.a.createElement("td",{className:"px-0 py-5 border-b border-gray-200 bg-white text-sm text-center"},c.a.createElement("div",{className:"flex items-center justify-center"},c.a.createElement("div",{className:"ml-3"},c.a.createElement("p",{className:"text-gray-900 whitespace-no-wrap"},e.firstName)))),c.a.createElement("td",{className:"px-0 py-5 border-b border-gray-200 bg-white text-sm text-center"},c.a.createElement("div",{className:"flex items-center justify-center"},c.a.createElement("div",{className:"ml-3"},c.a.createElement("p",{className:"text-gray-900 whitespace-no-wrap"},e.lastName)))),c.a.createElement("td",{className:"px-0 py-5 border-b border-gray-200 bg-white text-sm text-center"},c.a.createElement("div",{className:"flex items-center justify-center"},c.a.createElement("div",{className:"ml-3"},c.a.createElement("p",{className:"text-gray-900 whitespace-no-wrap"},e.email)))),c.a.createElement("td",{className:"px-0 py-5 border-b border-gray-200 bg-white text-sm ml-5 text-center"},c.a.createElement("span",{className:"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight"},c.a.createElement("span",{"aria-hidden":"true",className:"absolute inset-0 bg-green-200 opacity-50 rounded-full"}),c.a.createElement("span",{className:"relative"},h()(e.valid_until).format("MMMM Do YYYY, hh:mm a")))),c.a.createElement("td",{className:"px-0 py-5 border-b border-gray-200  text-sm items-center text-center"},c.a.createElement("span",{className:"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight"},c.a.createElement("span",{"aria-hidden":"true",className:"absolute inset-0 bg-green-200 opacity-50 rounded-full"}),c.a.createElement("span",{className:"relative"},e.valid?"Active":"Disable"))),c.a.createElement("td",{className:"px-0 py-5 border-b border-gray-200  text-sm items-center"},c.a.createElement("div",{className:"flex justify-center"},c.a.createElement("button",{className:"rounded-full shadow flex items-center px-3 py-3",onClick:function(){return function(e){_(e),w(!0)}(e)}},c.a.createElement(j.a,{icon:O.f})))),c.a.createElement("td",{className:"px-0 py-5 border-b border-gray-200 text-sm items-center"},c.a.createElement("div",{className:"flex justify-center"},c.a.createElement("button",{className:"rounded-full shadow hover:text-indigo-900 flex items-center px-3 py-3 ",onClick:function(){return L(e._id)}},c.a.createElement(j.a,{icon:O.h})))))}))))))))}var q=t(137),S=t(4);function _(){var e=Object(s.useState)(!1),a=Object(m.a)(e,2),t=a[0],r=a[1],d=Object(s.useState)([]),o=Object(m.a)(d,2),u=o[0],p=o[1],b=Object(S.i)().idCampus;Object(s.useEffect)((function(){(function(){var e=Object(n.a)(l.a.mark((function e(){var a,t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(b,"/users"));case 2:a=e.sent,t=a.data,p(t.users);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}));var E=function(){r(!t)};return(c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"container mx-auto px-4"},c.a.createElement(q.a,{title:"Users"}),c.a.createElement("div",{className:"py-8"},c.a.createElement("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto"},c.a.createElement("div",null,c.a.createElement(k,{idCampus:b,users:u})),c.a.createElement("div",{className:"container-add"},c.a.createElement(i.a,{text:"Add > ",onClick:E})),c.a.createElement("div",{style:{display:"".concat(t?"block":"none")}},c.a.createElement(f,{idCampus:b,showPanel:E})))))))}}}]);
//# sourceMappingURL=6.7f372192.chunk.js.map