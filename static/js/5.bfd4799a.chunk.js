(this.webpackJsonpuser_manager_app=this.webpackJsonpuser_manager_app||[]).push([[5],{136:function(e,a,t){"use strict";t.d(a,"a",(function(){return c}));var n=t(0),r=t.n(n);function c(e){var a=e.text,t=e.close;return(r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"text-white px-6 py-4 border-0 rounded relative mb-4 bg-teal-500"},r.a.createElement("span",{className:"text-xl inline-block mr-5 align-middle"},r.a.createElement("i",{className:"fas fa-bell"})),r.a.createElement("span",{className:"inline-block align-middle mr-8"},r.a.createElement("b",{className:"capitalize"},a)),r.a.createElement("button",{className:"absolute bg-transparent text-2xl font-semibold leading-none right-0 top-0 mt-4 mr-6 outline-none focus:outline-none",onClick:t},r.a.createElement("span",null,"\xd7")))))}},137:function(e,a,t){"use strict";var n=t(0),r=t.n(n);a.a=function(e){var a=e.title;return(r.a.createElement("div",{className:"my-1 sm:my-4"},r.a.createElement("h2",{className:"text-gray-800 font-bold text-2xl"},a)))}},143:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return k}));var n=t(42),r=t.n(n),c=t(60),l=t(8),m=t(0),s=t.n(m),i=t(62),o=t(29),u=t(61),d=t(136),p=t(30),b=t(64),E=t(84),x=t(32),f=t(31),v=t(63),h=t(24);function y(e){var a=h.a().shape({name:h.b().required("Contact name is required"),email:h.b().required("Email is required"),phone:h.b().required("phone is required")}),t=Object(m.useState)(),n=Object(l.a)(t,2),d=n[0],y=n[1],N=Object(m.useState)(),g=Object(l.a)(N,2),w=g[0],j=g[1],O=Object(m.useState)(!1),S=Object(l.a)(O,2),k=S[0],C=S[1],q=function(){var a=Object(c.a)(r.a.mark((function a(t){var n,c,l;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,C(!0),a.next=4,u.a.put("".concat(e.idCampus,"/contact/").concat(e.contact._id),t);case 4:n=a.sent,c=n.data,y(c.message),j(""),a.next=16;break;case 10:a.prev=10,a.t0=a.catch(0),C(!1),l=a.t0.response.data,j(l.message),y("");case 16:return a.prev=16,setTimeout((function(){e.setShowModal(!1),window.location.reload()}),1e3),a.finish(16);case 19:case"end":return a.stop()}}),a,null,[[0,10,16,19]])})));return function(e){return a.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,e.showModal?s.a.createElement(s.a.Fragment,null,s.a.createElement("section",{className:"w-3/4 h-screen m-auto sm:pt-10"},s.a.createElement(o.a,null),s.a.createElement(i.a,null,s.a.createElement("div",{className:"flex items-center justify-center py-7 px-2 sm:px-3 lg:px-3"},s.a.createElement("div",{className:"max-w-md w-full flex items-center justify-center"},s.a.createElement(p.c,{initialValues:{name:e.contact.name,email:e.contact.email,phone:e.contact.phone},onSubmit:function(e){return q(e)},validationSchema:a},(function(){return s.a.createElement(p.b,{className:"mt-8"},d&&s.a.createElement(b.a,{text:d}),w&&s.a.createElement(E.a,{text:w}),s.a.createElement("input",{type:"hidden",name:"remember",value:"true"}),s.a.createElement("div",null,s.a.createElement("div",{className:"flex"},s.a.createElement("div",{className:"mb-2 mr-2 w-64"},s.a.createElement("div",{className:"mb-1"},s.a.createElement(f.a,{text:"Name"})),s.a.createElement(x.a,{ariaLabel:"Name",name:"name",type:"text",placeholder:"Name"})),s.a.createElement("div",{className:"mb-2 ml-2 w-4/5"},s.a.createElement("div",{className:"mb-1"},s.a.createElement(f.a,{text:"Email"})),s.a.createElement("div",null,s.a.createElement(x.a,{ariaLabel:"Email",name:"email",type:"email",placeholder:"Email"}))),s.a.createElement("div",{className:"mb-2 ml-3 w-64"},s.a.createElement("div",{className:"mb-1"},s.a.createElement(f.a,{text:"Phone"})),s.a.createElement("div",null,s.a.createElement(x.a,{ariaLabel:"Pnone",name:"phone",type:"phone",placeholder:"Phone"}))))),s.a.createElement("div",{className:"mt-6 flex items-center justify-center"},s.a.createElement(v.a,{type:"submit",text:"Save",loading:k})))}))))))):null)}var N=t(13),g=t(23);function w(e){var a=Object(m.useState)(),t=Object(l.a)(a,2),n=t[0],p=t[1],b=Object(m.useState)(!1),E=Object(l.a)(b,2),x=E[0],f=E[1],v=Object(m.useState)(!1),h=Object(l.a)(v,2),w=h[0],j=h[1],O=Object(m.useState)(),S=Object(l.a)(O,2),k=S[0],C=S[1],q=function(){var a=Object(c.a)(r.a.mark((function a(t){var n,c,l;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,u.a.delete("".concat(e.idCampus,"/contact/delete/").concat(t));case 3:n=a.sent,c=n.data,p(c.message),f(!0),a.next=14;break;case 9:a.prev=9,a.t0=a.catch(0),l=a.t0.response.data,p(l.message),f(!0);case 14:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,w?s.a.createElement(y,{setShowModal:j,idCampus:e.idCampus,contact:k,showModal:w}):s.a.createElement(s.a.Fragment,null,s.a.createElement(o.a,null),s.a.createElement(i.a,null,x?s.a.createElement(d.a,{text:n,close:function(){f(!1)}}):null,s.a.createElement("div",{className:"inline-block min-w-full rounded-lg overflow-hidden"},s.a.createElement("table",{className:"min-w-full leading-normal"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col",className:"py-3 bg-white  border-b border-gray-200 text-gray-800  text-center text-sm uppercase font-normal"},"name"),s.a.createElement("th",{scope:"col",className:"py-3 bg-white  border-b border-gray-200 text-gray-800  text-center text-sm uppercase font-normal"},"phone"),s.a.createElement("th",{scope:"col",className:"py-3 bg-white  border-b border-gray-200 text-gray-800  text-center text-sm uppercase font-normal"},"email"),s.a.createElement("th",{scope:"col",className:"py-3 bg-white  border-b border-gray-200 text-gray-800  text-center text-sm uppercase font-normal"},"edit"),s.a.createElement("th",{scope:"col",className:"py-3 bg-white  border-b border-gray-200 text-gray-800  text-center text-sm uppercase font-normal"},"delete"))),s.a.createElement("tbody",null,e.contacts.map((function(e){return s.a.createElement("tr",{key:e._id},s.a.createElement("td",{className:"py-5 border-b border-gray-200 bg-white text-sm"},s.a.createElement("div",{className:"flex items-center justify-center"},s.a.createElement("div",{className:"ml-3"},s.a.createElement("p",{className:"text-gray-900 whitespace-no-wrap"},e.name)))),s.a.createElement("td",{className:"py-5 border-b border-gray-200 bg-white text-sm text-center "},s.a.createElement("div",{className:"flex items-center justify-center"},s.a.createElement("div",{className:"ml-3"},s.a.createElement("p",{className:"text-gray-900 whitespace-no-wrap"},e.phone)))),s.a.createElement("td",{className:"py-5 border-b border-gray-200 bg-white text-sm text-center "},s.a.createElement("span",{className:"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight"},s.a.createElement("span",{"aria-hidden":"true",className:"absolute inset-0 bg-green-200 opacity-50 rounded-full"}),s.a.createElement("span",{className:"relative"},e.email))),s.a.createElement("td",{className:"py-5 border-b border-gray-200  text-sm items-center"},s.a.createElement("div",{className:"flex justify-center"},s.a.createElement("button",{className:"rounded-full shadow flex items-center px-3 py-3",onClick:function(){return function(e){C(e),j(!0)}(e)}},s.a.createElement(N.a,{icon:g.f})))),s.a.createElement("td",{className:"py-5 border-b border-gray-200 text-sm items-center"},s.a.createElement("div",{className:"flex justify-center"},s.a.createElement("button",{className:"rounded-full shadow hover:text-indigo-900 flex items-center px-3 py-3 ",onClick:function(){return q(e._id)}},s.a.createElement(N.a,{icon:g.h})))))}))))))))}function j(e){var a=h.a().shape({name:h.b().required("Contact name is required"),email:h.b().required("Email is required"),phone:h.b().required("Phone is required")}),t=Object(m.useState)(),n=Object(l.a)(t,2),d=n[0],y=n[1],N=Object(m.useState)(),g=Object(l.a)(N,2),w=g[0],j=g[1],O=Object(m.useState)(!1),S=Object(l.a)(O,2),k=S[0],C=S[1],q=function(){var a=Object(c.a)(r.a.mark((function a(t){var n,c,l;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,C(!0),a.next=4,u.a.post("".concat(e.idCampus,"/contacts"),t);case 4:n=a.sent,c=n.data,y(c.message),j(""),setTimeout((function(){window.location.reload()}),10),a.next=17;break;case 11:a.prev=11,a.t0=a.catch(0),C(!1),l=a.t0.response.data,j(l.message),y("");case 17:return a.prev=17,e.showAddPanel(),a.finish(17);case 20:case"end":return a.stop()}}),a,null,[[0,11,17,20]])})));return function(e){return a.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement("section",{className:"w-3/4 h-screen m-auto sm:pt-10"},s.a.createElement(o.a,null),s.a.createElement(i.a,null,s.a.createElement("div",{className:"flex items-center justify-center py-7 px-2 sm:px-3 lg:px-3"},s.a.createElement("div",{className:"max-w-md w-full flex items-center justify-center"},s.a.createElement(p.c,{initialValues:{name:"",email:"",phone:""},onSubmit:function(e){return q(e)},validationSchema:a},(function(){return s.a.createElement(p.b,{className:"mt-8"},d&&s.a.createElement(b.a,{text:d}),w&&s.a.createElement(E.a,{text:w}),s.a.createElement("input",{type:"hidden",name:"remember",value:"true"}),s.a.createElement("div",null,s.a.createElement("div",{className:"flex"},s.a.createElement("div",{className:"mb-2 mr-2 w-64"},s.a.createElement("div",{className:"mb-1"},s.a.createElement(f.a,{text:"Name"})),s.a.createElement(x.a,{ariaLabel:"Name",name:"name",type:"text",placeholder:"Name"})),s.a.createElement("div",{className:"mb-2 ml-2 w-4/5"},s.a.createElement("div",{className:"mb-1"},s.a.createElement(f.a,{text:"Email"})),s.a.createElement("div",null,s.a.createElement(x.a,{ariaLabel:"Email",name:"email",type:"email",placeholder:"Email"}))),s.a.createElement("div",{className:"mb-2 ml-3 w-64"},s.a.createElement("div",{className:"mb-1"},s.a.createElement(f.a,{text:"Phone"})),s.a.createElement("div",null,s.a.createElement(x.a,{ariaLabel:"Pnone",name:"phone",type:"phone",placeholder:"Phone"}))))),s.a.createElement("div",{className:"mt-6 flex items-center justify-center"},s.a.createElement(v.a,{type:"submit",text:"Save",loading:k})))})))))))}var O=t(137),S=t(4);function k(){var e=Object(m.useState)(!1),a=Object(l.a)(e,2),t=a[0],n=a[1],i=Object(m.useState)([]),o=Object(l.a)(i,2),d=o[0],p=o[1],b=Object(S.i)().idCampus;Object(m.useEffect)((function(){(function(){var e=Object(c.a)(r.a.mark((function e(){var a,t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("".concat(b,"/contacts"));case 2:a=e.sent,t=a.data,p(t.contacts);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}));var E=function(){n(!t)};return(s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"container mx-auto px-4"},s.a.createElement(O.a,{title:"Contacts"}),s.a.createElement("div",{className:"py-8"},s.a.createElement("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto"},s.a.createElement("div",null,s.a.createElement(w,{idCampus:b,contacts:d})),s.a.createElement("div",{className:"container-add"},s.a.createElement(v.a,{text:"Add > ",onClick:E})),s.a.createElement("div",{style:{display:"".concat(t?"block":"none")}},s.a.createElement(j,{idCampus:b,showPanel:E})))))))}}}]);
//# sourceMappingURL=5.bfd4799a.chunk.js.map